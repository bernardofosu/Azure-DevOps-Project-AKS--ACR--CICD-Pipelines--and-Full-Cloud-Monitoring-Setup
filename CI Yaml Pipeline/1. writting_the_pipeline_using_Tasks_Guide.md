# ğŸŸ¦ Azure DevOps Tasks â€” UI Configuration + YAML + Emojis

Below is the **complete guide** for every task in your pipeline:

[Setup AzureDevops Org or Use existing One]()

[How to begin the pipeline](./2.%20how%20to%20begin%20the%20pipeline.md)

## ğŸŸ© 1ï¸âƒ£ MAVEN TASK (Compile + Test)

### ğŸ” UI Search:

```
maven
```

### ğŸ›  How to Configure in UI:

- **Maven POM file:** `pom.xml`
- **Goals:** `compile` or `test`
- **Publish JUnit results:** âœ” Enabled
- **Test results path:** `**/surefire-reports/TEST-*.xml`
- No SonarQube here.

### ğŸ“„ YAML:

```yaml
- task: Maven@4
  inputs:
    azureSubscription: "svcp-conn"
    mavenPomFile: "pom.xml"
    goals: "compile"
    publishJUnitResults: true
    testResultsFiles: "**/surefire-reports/TEST-*.xml"
```

---

## ğŸŸ© 2ï¸âƒ£ COMMAND LINE (TRIVY FS SCAN)

### ğŸ” UI Search:

```
cmd
```

or

```
command line
```

### ğŸ›  UI Config:

- **Script:**

```
trivy fs --format table -o trivy-fs-report.txt .
```

### ğŸ“„ YAML:

```yaml
- task: CmdLine@2
  inputs:
    script: "trivy fs --format table -o trivy-fs-report.txt ."
```

---

## ğŸŸ© 3ï¸âƒ£ SONARQUBE (Prepare + Analyze)

### ğŸ” UI Search:

```
sonar
```

You will see:

âœ” Prepare Analysis Configuration  
âœ” Run Code Analysis

---

### ğŸ›  PREPARE UI CONFIG:

- **Connection:** `sonarqube-conn`
- **Mode:** CLI
- **Project Key:** `bankapp`
- **Sources:** `.`
- **Extra properties:**

```
sonar.java.libraries=.
sonar.java.binaries=target/classes
```

### ğŸ“„ YAML:

```yaml
- task: SonarQubePrepare@7
  inputs:
    SonarQube: "sonarqube-conn"
    scannerMode: "cli"
    configMode: "manual"
    cliProjectKey: "bankapp"
    cliProjectName: "bankapp for sonar"
    cliSources: "."
    extraProperties: |
      sonar.java.libraries=.
      sonar.java.binaries=target/classes

- task: SonarQubeAnalyze@7
  inputs:
    jdkversion: "JAVA_HOME"
```

---

## ğŸŸ© 4ï¸âƒ£ PUBLISH BUILD ARTIFACTS

### ğŸ” Search:

```
publish build artifacts
```

### ğŸ›  UI Config:

- **Path to publish:** `target`
- **Artifact name:** `drop`
- **Publish location:** Azure Pipelines (default)

### ğŸ“„ YAML:

```yaml
- task: PublishBuildArtifacts@1
  inputs:
    pathToPublish: "target"
    artifactName: "drop"
  displayName: "Publish JAR Artifact"
```

---

## ğŸŸ© 5ï¸âƒ£ DOWNLOAD BUILD ARTIFACTS

### ğŸ” Search:

```
download build artifacts
```

### ğŸ›  UI Config:

- **Artifact name:** drop
- **Destination directory:** `$(Build.SourcesDirectory)`

### ğŸ“„ YAML:

```yaml
- task: DownloadBuildArtifacts@0
  inputs:
    artifactName: "drop"
    downloadPath: "$(Build.SourcesDirectory)"
  displayName: "Download JAR Artifact"
```

---

## ğŸŸ© 6ï¸âƒ£ DOCKER BUILD & PUSH

### ğŸ” Search:

```
docker
```

### ğŸ›  UI Config:

- **Registry:** docker-conn
- **Repository:** bofosu1/bankapp2
- **Command:** buildAndPush
- **Dockerfile:** `**/Dockerfile`

### ğŸ“„ YAML:

```yaml
- task: Docker@2
  inputs:
    containerRegistry: "docker-conn"
    repository: "bofosu1/bankapp2"
    command: "buildAndPush"
    Dockerfile: "**/Dockerfile"
```

---

## ğŸŸ© 7ï¸âƒ£ TRIVY IMAGE SCAN (Script)

No UI task exists â€” use CmdLine.

### ğŸ“„ YAML:

```yaml
- script: "trivy image --format table -o trivy-image-report.txt bofosu1/bankapp2:18"
  displayName: "Trivy Image Scan Job"
```

---

## ğŸŸ¦ FINAL SUMMARY TABLE

| Stage             | Task Type | UI Search                  | YAML Task                |
| ----------------- | --------- | -------------------------- | ------------------------ |
| Compile           | Maven     | `maven`                    | Maven@4                  |
| Test              | Maven     | `maven`                    | Maven@4                  |
| Trivy FS Scan     | Command   | `command line`             | CmdLine@2                |
| Sonar Prepare     | SonarQube | `sonar`                    | SonarQubePrepare@7       |
| Sonar Analyze     | SonarQube | `sonar`                    | SonarQubeAnalyze@7       |
| Publish Artifact  | Publish   | `publish build artifacts`  | PublishBuildArtifacts@1  |
| Download Artifact | Download  | `download build artifacts` | DownloadBuildArtifacts@0 |
| Docker Build Push | Docker    | `docker`                   | Docker@2                 |
| Image Scan        | Script    | (none â€” command line)      | script                   |

---

âœ… **All tasks, UI instructions + YAML are included.**  
ğŸ’¾ Saved with emojis.
